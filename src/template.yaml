OSSDemoComponent:
  Component: /Users/xianbintang/workspace/oss-alibaba/src
  Provider: alibaba
  Access: edas_beta_test
  Properties:
    Region: 'cn-hangzhou'
    Bucket: baiji-oss-test
    StorageClass: standard
    DataRedundancyType: LRS
    #    CodeUri: 本地路径
    CodeUri:
      Src: 本地路径
      Excludes:
        - path1
        - path2
      Includes:
        - path1
        - path2
    Tags:
      - Key: aa
        Value: bbb
      - Key: cc
        Value: ddd
    Cors:
      - AllowedOrigin:
          - http://www.a.com
          - http://www.b.com
        AllowedMethod:
          - POST
          - GET
        AllowedHeader:
          - Authorization
        ExposeHeader:
          - x-oss-test
          - x-oss-test1
        MaxAgeSeconds: 100
        ResponseVary: true
    Referer:
      AllowEmptyReferer: false
      List:
        - http://www.aliyun.com
        - http://www.prettyzxx.com
    Acl: public-read # public-read-write/private/public-read
    Lifecycle:
      - Id: 'rule1'
        Prefix: 'foo/'
        Status: 'Enabled'
        Expiration:
          Days: 21
#        Transition:
#          Days: 3
#          CreatedBeforeDate: '2020-10-18T00:00:00.000Z'
#          StorageClass: 'IA'
#        AbortMultipartUpload:
#          Days: 3
#          CreatedBeforeDate: '2020-10-18T00:00:00.000Z'
#        Tag:
#          - Key: k1
#            Value: v1
#        NoncurrentVersionTransition:
#          NoncurrentDays: 10
#          StorageClass: 'IA'
    Policy:
      - Actions:
          - oss:PutObject
        Effect: Deny
        Principal:
          - 1234567890
        Resource:
          - acs:oss:*:1234567890:*/*
    Logging:
      Enable: false # true/false
#      TargetBucket: TargetBucket # nodejs 提供的sdk中，不支持指定targetBucket，只能使用自身bucket
      TargetPrefix: foo/
    EncryptionRule:
      SSEAlgorithm: KMS
      KMSMasterKeyID: KMSMasterKeyID
    Versioning: disable
    # 未提供SDK API
    Domains:
      - Domain: anycodes.cn
        AutoCname: true
        PrivateKey: './certificates/privateKey.pem'
        Certificate: './certificates/certificate.pem'
    Website:
      Pages:
        Index: index.html
        Error: error.html
        SubDir:
          Index: index.html
          ErrorRuleType: 1
      RoutingRules:
        RuleNumber: 1
        Condition:
          KeyPrefixEquals: abc/
          HttpErrorCodeReturnedEquals: 404
          IncludeHeader:
            Key: host
            Equals: test.oss-cn-beijing-internal.aliyuncs.com
          KeySuffixEquals: abc/
        Redirect:
          RedirectType: Mirror
          PassQueryString: true
          Mirror:
            URL: http://www.test.com/
            PassQueryString: true
            FollowRedirect: true
            CheckMd5: true
            Headers:
              PassAll: true
              Pass:
                - myheader-key1
                - myheader-key2
              Remove:
                - myheader-key3
                - myheader-key4
              Set:
                Key: aa
                Value: aa
          Protocol: http
          HostName: www.test.com
          ReplaceKeyPrefixWith:
          EnableReplacePrefix: def/
          # fixme 修复语法
#          ReplaceKeyWith: prefix/${key}.suffix
          HttpRedirectCode: 301